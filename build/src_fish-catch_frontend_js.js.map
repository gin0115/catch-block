{"version":3,"file":"src_fish-catch_frontend_js.js?ver=8110f3e3d7a1bf9cd48b","mappings":"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","sources":["webpack://fish-catch-block/./src/fish-catch/frontend.js"],"sourcesContent":["/**\n * Frontend JavaScript for Fish Catch Block\n * Handles map initialization, gallery lightbox, and view toggles\n */\n\nconsole.log('LOADING: /src/fish-catch/frontend.js');\nconsole.log('jQuery available:', typeof jQuery, typeof $);\n\n(function($) {\n    'use strict';\n    \n    console.log('Inside IIFE, $ is:', typeof $);\n\n    // Initialize when DOM is ready\n    $(document).ready(function() {\n        console.log('Fish Catch Block: Frontend script loaded');\n        console.log('DOM ready, looking for blocks...');\n        console.log('Found blocks:', $('.fish-catch-block').length);\n        initFishCatchBlocks();\n    });\n\n    function initFishCatchBlocks() {\n        // Initialize all fish catch blocks on the page\n        $('.fish-catch-block').each(function() {\n            const $block = $(this);\n            initMap($block);\n            initGallery($block);\n            initViewToggle($block);\n        });\n    }\n\n    function initMap($block) {\n        const $mapContainer = $block.find('[id^=\"fish-catch-map-\"]');\n        if ($mapContainer.length === 0) {\n            console.log('Fish Catch Block: No map container found');\n            return;\n        }\n\n        const mapId = $mapContainer.attr('id');\n        const lat = parseFloat($mapContainer.data('lat'));\n        const lng = parseFloat($mapContainer.data('lng'));\n        const locationName = $mapContainer.data('location') || 'Fishing Location';\n\n        console.log('Fish Catch Block: Map data', { mapId, lat, lng, locationName });\n\n        if (isNaN(lat) || isNaN(lng)) {\n            console.log('Fish Catch Block: Invalid coordinates');\n            return;\n        }\n\n        // Wait for Leaflet to load\n        if (typeof L === 'undefined') {\n            // Leaflet should be enqueued by WordPress, but just in case\n            setTimeout(() => initMap($block), 100);\n            return;\n        }\n\n        try {\n            const map = L.map(mapId).setView([lat, lng], 13);\n            \n            L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n                attribution: '© OpenStreetMap contributors',\n                maxZoom: 19\n            }).addTo(map);\n\n            L.marker([lat, lng]).addTo(map)\n                .bindPopup(locationName)\n                .openPopup();\n        } catch (error) {\n            console.error('Failed to initialize map:', error);\n        }\n    }\n\n    function initGallery($block) {\n        $block.find('.catch-media-gallery').on('click', 'img', function(e) {\n            e.preventDefault();\n            const $clickedImg = $(this);\n            const $gallery = $clickedImg.closest('.catch-media-gallery');\n            const allImages = $gallery.find('img');\n            const currentIndex = allImages.index($clickedImg);\n            \n            openLightbox(allImages, currentIndex);\n        });\n    }\n\n    function openLightbox($images, currentIndex) {\n        const images = $images.toArray();\n        let currentImgIndex = currentIndex || 0;\n        \n        const overlay = $('<div class=\"fish-catch-lightbox\">').css({\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            background: 'rgba(0,0,0,0.9)',\n            'z-index': 9999,\n            display: 'flex',\n            'align-items': 'center',\n            'justify-content': 'center',\n            cursor: 'pointer'\n        });\n\n        const container = $('<div class=\"lightbox-container\">').css({\n            position: 'relative',\n            'max-width': '90%',\n            'max-height': '90%',\n            display: 'flex',\n            'align-items': 'center',\n            'justify-content': 'center'\n        });\n\n        const img = $('<img class=\"lightbox-image\">').attr({\n            src: $(images[currentImgIndex]).attr('src'),\n            alt: $(images[currentImgIndex]).attr('alt')\n        }).css({\n            'max-width': '100%',\n            'max-height': '100%',\n            'object-fit': 'contain',\n            'border-radius': '8px'\n        });\n\n        // Navigation buttons\n        const prevBtn = $('<button class=\"lightbox-nav lightbox-prev\">').html('‹').css({\n            position: 'absolute',\n            left: '-60px',\n            top: '50%',\n            transform: 'translateY(-50%)',\n            background: 'rgba(255,255,255,0.2)',\n            border: 'none',\n            color: 'white',\n            'font-size': '30px',\n            width: '50px',\n            height: '50px',\n            'border-radius': '50%',\n            cursor: 'pointer',\n            display: images.length > 1 ? 'flex' : 'none',\n            'align-items': 'center',\n            'justify-content': 'center'\n        });\n\n        const nextBtn = $('<button class=\"lightbox-nav lightbox-next\">').html('›').css({\n            position: 'absolute',\n            right: '-60px',\n            top: '50%',\n            transform: 'translateY(-50%)',\n            background: 'rgba(255,255,255,0.2)',\n            border: 'none',\n            color: 'white',\n            'font-size': '30px',\n            width: '50px',\n            height: '50px',\n            'border-radius': '50%',\n            cursor: 'pointer',\n            display: images.length > 1 ? 'flex' : 'none',\n            'align-items': 'center',\n            'justify-content': 'center'\n        });\n\n        const closeBtn = $('<button class=\"lightbox-close\">').html('×').css({\n            position: 'absolute',\n            top: '-50px',\n            right: '0',\n            background: 'rgba(255,255,255,0.2)',\n            border: 'none',\n            color: 'white',\n            'font-size': '30px',\n            width: '40px',\n            height: '40px',\n            'border-radius': '50%',\n            cursor: 'pointer',\n            display: 'flex',\n            'align-items': 'center',\n            'justify-content': 'center'\n        });\n\n        const counter = $('<div class=\"lightbox-counter\">').html(`${currentImgIndex + 1} / ${images.length}`).css({\n            position: 'absolute',\n            bottom: '-40px',\n            left: '50%',\n            transform: 'translateX(-50%)',\n            color: 'white',\n            'font-size': '14px',\n            background: 'rgba(0,0,0,0.5)',\n            padding: '5px 10px',\n            'border-radius': '15px'\n        });\n\n        container.append(img).append(prevBtn).append(nextBtn).append(closeBtn).append(counter);\n        overlay.append(container);\n        $('body').append(overlay);\n\n        // Navigation functions\n        function showImage(index) {\n            currentImgIndex = index;\n            img.attr({\n                src: $(images[currentImgIndex]).attr('src'),\n                alt: $(images[currentImgIndex]).attr('alt')\n            });\n            counter.html(`${currentImgIndex + 1} / ${images.length}`);\n        }\n\n        function prevImage() {\n            const newIndex = currentImgIndex > 0 ? currentImgIndex - 1 : images.length - 1;\n            showImage(newIndex);\n        }\n\n        function nextImage() {\n            const newIndex = currentImgIndex < images.length - 1 ? currentImgIndex + 1 : 0;\n            showImage(newIndex);\n        }\n\n        // Event handlers\n        prevBtn.on('click', function(e) {\n            e.stopPropagation();\n            prevImage();\n        });\n\n        nextBtn.on('click', function(e) {\n            e.stopPropagation();\n            nextImage();\n        });\n\n        closeBtn.on('click', function(e) {\n            e.stopPropagation();\n            overlay.remove();\n        });\n\n        overlay.on('click', function(e) {\n            if (e.target === overlay[0]) {\n                overlay.remove();\n            }\n        });\n\n        // Keyboard navigation\n        $(document).on('keydown.lightbox', function(e) {\n            if (e.key === 'Escape') {\n                overlay.remove();\n                $(document).off('keydown.lightbox');\n            } else if (e.key === 'ArrowLeft') {\n                prevImage();\n            } else if (e.key === 'ArrowRight') {\n                nextImage();\n            }\n        });\n\n        // Clean up on close\n        overlay.on('remove', function() {\n            $(document).off('keydown.lightbox');\n        });\n    }\n\n    function initViewToggle($block) {\n        const $toggle = $block.find('[id^=\"view-toggle-\"]');\n        const $catchesGrid = $block.find('.catches-grid');\n        \n        if ($toggle.length === 0 || $catchesGrid.length === 0) return;\n\n        $toggle.on('click', '.view-btn', function(e) {\n            e.preventDefault();\n            const $btn = $(this);\n            const isListView = $btn.data('view') === 'list-view';\n\n            // Update active button\n            $toggle.find('.view-btn').removeClass('active').css({\n                'background-color': 'transparent',\n                color: '#666'\n            });\n            $btn.addClass('active').css({\n                'background-color': '#007cba',\n                color: 'white'\n            });\n\n            // Update grid layout\n            $catchesGrid.removeClass('list-view grid-view').addClass($btn.data('view'));\n            $catchesGrid.css('grid-template-columns', \n                isListView ? '1fr' : 'repeat(auto-fit, minmax(300px, 1fr))'\n            );\n\n            // Show/hide appropriate content\n            $catchesGrid.find('.catch-card').each(function() {\n                const $card = $(this);\n                const $listContent = $card.find('.list-view-content');\n                const $gridContent = $card.find('.grid-view-content');\n\n                if (isListView) {\n                    $listContent.show();\n                    $gridContent.hide();\n                } else {\n                    $listContent.hide();\n                    $gridContent.show();\n                }\n            });\n        });\n    }\n\n})(jQuery);\n"],"names":["console","log","jQuery","$","document","ready","length","initFishCatchBlocks","each","$block","initMap","initGallery","initViewToggle","$mapContainer","find","mapId","attr","lat","parseFloat","data","lng","locationName","isNaN","L","setTimeout","map","setView","tileLayer","attribution","maxZoom","addTo","marker","bindPopup","openPopup","error","on","e","preventDefault","$clickedImg","$gallery","closest","allImages","currentIndex","index","openLightbox","$images","images","toArray","currentImgIndex","overlay","css","position","top","left","width","height","background","display","cursor","container","img","src","alt","prevBtn","html","transform","border","color","nextBtn","right","closeBtn","counter","bottom","padding","append","showImage","prevImage","newIndex","nextImage","stopPropagation","remove","target","key","off","$toggle","$catchesGrid","$btn","isListView","removeClass","addClass","$card","$listContent","$gridContent","show","hide"],"sourceRoot":""}